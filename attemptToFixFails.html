<html>

<head>
   <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script src="https://code.highcharts.com/stock/highstock.js"></script>
   <!-- <script src="js/moment.min.js"></script> -->
   
   <script src="https://code.highcharts.com/2.2/highcharts-more.js"></script>
	
</head>

<body>
	<div id = "container" style = "width: 800px; height: 500px; margin: 0 auto"></div>
</body>
		<script language = "JavaScript">
		var points = [
[49,322,1492988109000],
[50,323,1492988709000],
[49,323,1492989309000],
[49,324,1492989909000],
[50,323,1492990509000],
[55,325,1492991109000],
[65,331,1492991709000],
[66,333,1492992309000],
[67,333,1492992909000],
[45,319,1492993509000],
[52,322,1492994109000],
[15,300,1492994709000],
[51,326,1493001310000],
[17,311,1493001910000],
[24,325,1493002510000],
[23,329,1493003110000],
[22,328,1493003710000],
[21,320,1493004310000],
[67,332,1493065150000],
[70,336,1493065750000],
[72,337,1493066350000],
[72,337,1493066950000],
[31,322,1493128462000],
[45,316,1493129062000],
[39,320,1493129662000],
[37,333,1493130262000],
[46,318,1493130862000],
[60,323,1493131462000],
[59,323,1493132062000],
[60,324,1493132662000],
[63,327,1493133262000],
[59,326,1493133862000],
[60,324,1493134462000],
[63,325,1493135062000],
[46,319,1493135662000],
[65,329,1493136262000],
[68,331,1493136862000],
[69,332,1493137462000],
[67,331,1493138062000],
[68,332,1493138662000],
[68,332,1493139262000],
[67,331,1493139862000],
[67,332,1493140462000],
[66,330,1493141062000],
[68,331,1493141662000],
[72,335,1493142262000],
[68,331,1493142862000],
[75,339,1493143462000],
[78,343,1493144062000],
[29,317,1493175863000],
[25,325,1493176463000],
[22,325,1493177063000],
[0,223,1493177663000],
[29,306,1493188496000],
[1,208,1493189096000],
[19,284,1493209682000],
[21,329,1493210282000],
[22,324,1493210882000],
[31,325,1493211482000],
[71,336,1493369300000],
[73,337,1493369900000],
[72,337,1493370500000],
[72,336,1493371100000],
[71,337,1493371700000],
[60,324,1493390961000],
[60,325,1493391561000],
[56,322,1493392161000],
[58,323,1493392761000],
[59,323,1493393361000],
[34,315,1493417961000],
[23,325,1493418561000],
[31,318,1493419161000],
[23,321,1493419761000],
[20,317,1493420362000],
[68,336,1493482996000],
[69,334,1493483596000],
[71,336,1493484196000],
[67,333,1493484796000],
[71,336,1493485396000],
[60,328,1493505796000],
[59,327,1493506396000],
[52,323,1493506996000],
[53,324,1493507596000],
[50,322,1493508196000],
[48,322,1493508796000],
[42,319,1493527997000],
[41,319,1493528597000],
[40,320,1493529197000],
[60,327,1493529797000],
[59,327,1493530397000],
[55,327,1493547797000],
[62,332,1493548397000],
[62,333,1493548997000],
[62,332,1493549597000],
[64,334,1493550197000],
[62,333,1493550797000],
[70,343,1493564597000],
[62,334,1493565197000],
[63,335,1493565797000],
[57,331,1493566397000],
[50,327,1493566997000],
[51,329,1493567597000],
[52,328,1493568197000],
[58,321,1493600598000],
[69,332,1493601198000],
[34,319,1493601798000],
[68,337,1493669153000],
[64,337,1493669753000],
[60,334,1493670353000],
[60,331,1493670953000],
[55,323,1493690753000],
[54,324,1493691353000],
[24,320,1493691953000],
[71,343,1493752490000],
[73,343,1493753090000],
[74,343,1493753690000],
[74,343,1493754318000],
[75,347,1493754918000],
[48,326,1493830383000],
[46,325,1493830983000],
[48,325,1493831583000],
[35,325,1493854383000],
[30,327,1493854983000],
[19,317,1493855583000],
[42,333,1493856183000],
[20,321,1493856783000],
[23,322,1493857383000],
[34,330,1493946540000],
[32,323,1493947140000],
[30,325,1493947740000],
[46,331,1493948340000],
[16,302,1493948940000],
[61,330,1493949540000],
[45,322,1493950140000],
[16,310,1493950740000],
[28,327,1493951340000],
[61,330,1493951940000],
[77,344,1493952540000],
[77,346,1493953140000],
[47,324,1493953740000],
[58,332,1493954340000],
[73,341,1493954940000],
[72,334,1494020341000],
[74,335,1494020941000],
[73,331,1494136739000],
[73,328,1494137339000],
[72,329,1494137939000],
[64,314,1494276707000],
[63,313,1494277307000],
[50,355,1494892584000]
]
;
var points2 = [
[33,150,1492988109000],
[53,300,1492988709000],
[54,200,1492989309000],
[64,250,1492989909000],
[25,175,1492990509000],
[80,125,1492991109000],
[90,300,1492991709000]
];
var xtd = [];
var apr222017 = 1492819200000;
var may162017 = 1494892800000;
var x = 0;
do {
	xtd[x] = apr222017 + (x * 86400000);
	x++
} while ((apr222017 + (x * 86400000)) < may162017);
Highcharts.stockChart('container', {
  chart: {
    type: 'scatter',
	reflow: false,
	events: {
		load: function() {
			console.log(xtd)
			console.log(this)
		}
	}
  },
  tooltip: {
        enabled: true,
    },
  boost: {
  	useGPUTranslations: true,
  	usePreAllocated: true
  },
  series: [{
 
	name: 'series 1',
    groupPixelWdith: 100,
	//turboThreshold: 10,
    id: 'main-series',
    data: points.map(function(point) {
      return [point[0], point[1], point[2], point[1]]
    }),
    showInNavigator: false,
    xAxis: 1,
	min: 0,
    keys: ['x', 'y', 'date', 'holdY']
  }, 
  {
  name: 'series 2',
  groupPixelWidth: 100,
  id: 'test-series',
  data: points.map(function(point) {
		return [point[0], point[1], point[2], point[1]]
  }),
  showInNavigator: false,
  xAxis: 1,
  min: 0,
  color: 'rgba(32,0,0,0.5)',
  keys: ['x','y','date','holdY']
  },
  { 
name: 'null_Lower', 
xAxis: 1,
type: 'area', 
showInLegend: false, 
fillOpacity: .5, 
color: 'rgba(255,0,0,0.5)', 
data: [ 
[0, 257 ] 
,  
[10, 276 ] 
,  
[20, 286] 
,  
[30, 290 ] 
,  
[40, 290 ] 
,  
[50.0, 291 ] 
,  
[60.0,  294 ] 
,  
[70.0, 304 ] 
,
[80.0,  323 ],
[90.0,  354 ] ] 
} 
,
  
  {
    xAxis: 0,
	//min:0,
	//max: 100,
    data: xtd,
    floor: apr222017,
    ceiling: may162017,
    min: apr222017,
    max: may162017,
    //minTickInterval: moment.duration(1, 'day').asMilliseconds(),
    showInNavigator: true,
    enableMouseTracking: false,
    color: '#FF0000',
    showInLegend: false
	}
  
  ],

  yAxis: {
   min: 100,
   max: 400
  },
  legend: {
		enabled: true,
        layout: 'vertical',
        align: 'left',
        verticalAlign: 'top',
        x: 100,
        y: 70,
        floating: true,
        backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',
        borderWidth: 1
    },

  xAxis: [{
  
    //min: 0,
	minRange: 1000 * 3600 * 24,
    type: 'linear',
    tickLength: 1,
    //tickLength: 0,
    labels: {
      enabled: false
    },
    events: {
	
      setExtremes: function(e) {
	  
        var points = this.chart.get('main-series').points;
		//heres some changes
		var points2 = this.chart.get('test-series').points;
        points.forEach(function(point) {
          point.update({
            y: e.min <= point.date && point.date <= e.max ? point.holdY : null
          }, 
		  false, false);
        });
		//blah blah blah
		points2.forEach(function(point) {
          point.update({
            y: e.min <= point.date && point.date <= e.max ? point.holdY : null
          }, 
		  false, false);
        });
		
		
        this.chart.redraw;
		
}
}
}, {
	type: 'linear'
}],
navigator: {
	enabled: true
}
});

</script>

</html>